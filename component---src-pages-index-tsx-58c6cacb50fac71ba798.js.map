{"version":3,"file":"component---src-pages-index-tsx-58c6cacb50fac71ba798.js","mappings":"0NAQe,SAASA,EAAMC,GAAmB,IAAD,IACtCC,EAASD,EAATC,KAER,EAA8B,CAAC,KAAM,MAA9BC,EAAP,KAAqBC,EAArB,KAEMC,GAAcC,EAAAA,EAAAA,cAClB,SAACC,GAAD,mBACEC,EAAAA,cAACC,EAAAA,GAAD,CACEC,cAAa,UACVP,GAAY,uBACWA,SADX,UACWA,EAAcQ,cADzB,aACWC,EAAuB,GAAGC,YAFvC,QAGXC,EAAAA,EAAAA,aAAAA,MAEFC,QACEP,EAAAA,cAACQ,EAAD,KAAgBb,SAAhB,UAAgBA,EAAcQ,cAA9B,iBAAgBM,EAAuB,UAAvC,aAAgBC,EAA2BC,WAE7CC,MAAM,YAENZ,EAAAA,cAAAA,MAAAA,KAAMD,MAGV,CAACJ,EAAcC,IAIjB,OAAMF,SAAF,UAAEA,EAAcmB,yBAAhBC,IAAAA,GAAA,UAACA,EAAkCC,aAAnCC,IAAAA,GAACA,EAAyCC,OAOvCpB,EACLG,EAAAA,cAACkB,EAAD,KACIxB,EAAamB,kBAAkBE,MAAMI,KAAI,SAACC,GAC1C,IACEC,EAGED,EAHFC,GACAC,EAEEF,EAFFE,QAFF,EAIIF,EADFG,YAAeC,EAHjB,EAGiBA,KAAiBC,EAHlC,EAGuBC,UAAuBC,EAH9C,EAG8CA,KAAMf,EAHpD,EAGoDA,MAE9CgB,EAAYH,aAAH,EAAGA,EAAYG,UAC9B,OACE5B,EAAAA,cAAC6B,EAAD,CAAaC,IAAKT,GAChBrB,EAAAA,cAAC+B,EAAD,CAAoBC,QAAS,kBAAMC,EAAAA,EAAAA,UAAS,WAAWZ,KACrDrB,EAAAA,cAACkC,EAAD,KACElC,EAAAA,cAACmC,EAAD,KAAmBvB,GACnBZ,EAAAA,cAACoC,EAAD,KAAmBd,GACnBtB,EAAAA,cAACqC,EAAD,KACErC,EAAAA,cAACsC,EAAD,KAAkBd,GAClBxB,EAAAA,cAACsC,EAAD,KACGC,MAAMC,QAAQb,GAAQA,EAAKc,KAAK,KAAO,MAI7Cb,GACC5B,EAAAA,cAAC0C,EAAD,CACEC,MAAO,CAAEC,gBAAgB,QAAShB,EAAV,aAOpC5B,EAAAA,cAACsC,EAAD,CACEN,QAAS,YACPC,EAAAA,EAAAA,UAAS,UAEXU,MAAO,CAAEE,OAAQ,YAJnB,UArCKhD,EACLG,EAAAA,cAAC8C,EAAD,KACE9C,EAAAA,cAAC+C,EAAD,eA+CR,IAAMD,EAAgBE,EAAAA,QAAAA,IAAAA,WAAH,gEAAGA,CAAH,qBAIbD,EAAmBC,EAAAA,QAAAA,IAAAA,WAAH,mEAAGA,CAAH,qHAUhB9B,EAAoB8B,EAAAA,QAAAA,IAAAA,WAAH,oEAAGA,CAAH,uFAQjBnB,EAAcmB,EAAAA,QAAAA,IAAAA,WAAH,8DAAGA,CAAH,8JAUXjB,EAAqBiB,EAAAA,QAAAA,IAAAA,WAAH,qEAAGA,CAAH,0HASlBN,EAAmBM,EAAAA,QAAAA,IAAAA,WAAH,mEAAGA,CAAH,gUAiBhBd,EAAmBc,EAAAA,QAAAA,IAAAA,WAAH,mEAAGA,CAAH,gEAOhBb,EAAmBa,EAAAA,QAAAA,IAAAA,WAAH,mEAAGA,CAAH,mHAShBZ,EAAmBY,EAAAA,QAAAA,IAAAA,WAAH,mEAAGA,CAAH,mHAUhBX,EAAuBW,EAAAA,QAAAA,IAAAA,WAAH,uEAAGA,CAAH,wGASpBV,EAAkBU,EAAAA,QAAAA,IAAAA,WAAH,mEAAGA,CAAH,gHAUfxC,EAAgBwC,EAAAA,QAAAA,IAAAA,WAAH,iEAAGA,CAAH","sources":["webpack://chenks12138-blog/./src/pages/index.tsx"],"sourcesContent":["import React, { useCallback } from \"react\";\nimport { graphql, PageProps, navigate } from \"gatsby\";\nimport styled from \"styled-components\";\n\nimport { Layout } from \"@/components\";\nimport { useBingInfo } from \"@/utils\";\nimport appConfig from \"@/app.config\";\n\nexport default function Index(props: PageProps) {\n  const { data } = props;\n  // const [responseData, error] = useBingInfo();\n  const [responseData, error] = [null, null] as any;\n\n  const createIndex = useCallback(\n    (children: React.ReactElement): React.ReactElement => (\n      <Layout\n        backgroundSrc={\n          (responseData &&\n            `https://cn.bing.com${responseData?.images?.[0].url}`) ??\n          appConfig.headerImages.about\n        }\n        content={\n          <HeaderContent>{responseData?.images?.[0]?.copyright}</HeaderContent>\n        }\n        title=\"HomePage\"\n      >\n        <div>{children}</div>\n      </Layout>\n    ),\n    [responseData, error]\n  );\n\n  // 无文章判断\n  if (!(data as any)?.allMarkdownRemark?.nodes?.length)\n    return createIndex(\n      <ArchivesEmpty>\n        <ArchivesEmptyTip>暂无文章</ArchivesEmptyTip>\n      </ArchivesEmpty>\n    );\n\n  return createIndex(\n    <ArchivesContainer>\n      {(data as any).allMarkdownRemark.nodes.map((item: any) => {\n        const {\n          id,\n          excerpt,\n          frontmatter: { date, index_img: indexImage, tags, title },\n        } = item;\n        const publicURL = indexImage?.publicURL;\n        return (\n          <ArchiveItem key={id}>\n            <ArchiveItemContent onClick={() => navigate(`/detail/${id}`)}>\n              <ArchiveItemRight>\n                <ArchiveItemTitle>{title}</ArchiveItemTitle>\n                <ArchiveItemIntro>{excerpt}</ArchiveItemIntro>\n                <ArchiveItemOtherInfo>\n                  <ArchiveItemMeta>{date}</ArchiveItemMeta>\n                  <ArchiveItemMeta>\n                    {Array.isArray(tags) ? tags.join(\" \") : \"\"}\n                  </ArchiveItemMeta>\n                </ArchiveItemOtherInfo>\n              </ArchiveItemRight>\n              {publicURL && (\n                <ArchiveItemImage\n                  style={{ backgroundImage: `url(\"${publicURL}\")` }}\n                />\n              )}\n            </ArchiveItemContent>\n          </ArchiveItem>\n        );\n      })}\n      <ArchiveItemMeta\n        onClick={() => {\n          navigate(\"/list\");\n        }}\n        style={{ cursor: \"pointer\" }}\n      >\n        查看全部\n      </ArchiveItemMeta>\n    </ArchivesContainer>\n  );\n}\n\nconst ArchivesEmpty = styled.div`\n  min-width: 80vw;\n`;\n\nconst ArchivesEmptyTip = styled.div`\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n  color: #3c4858;\n  font-weight: 600;\n  font-size: 25px;\n`;\n\nconst ArchivesContainer = styled.div`\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  width: 960px;\n  max-width: 100%;\n`;\n\nconst ArchiveItem = styled.div`\n  width: 100%;\n  margin: 20px auto;\n  padding-bottom: 30px;\n  border-bottom: 1px solid rgba(0, 0, 0, 0.1);\n  @media (prefers-color-scheme: dark) {\n    border-bottom-color: #6c757d;\n  }\n`;\n\nconst ArchiveItemContent = styled.div`\n  cursor: pointer;\n  display: flex;\n  justify-content: space-evenly;\n  @media screen and (max-width: 770px) {\n    flex-direction: column;\n  }\n`;\n\nconst ArchiveItemImage = styled.div`\n  width: 30%;\n  height: 160px;\n  background-position: center center;\n  background-repeat: no-repeat;\n  background-size: cover;\n  overflow: hidden;\n  box-shadow: 0 12px 15px 0 rgba(0, 0, 0, 0.24),\n    0 17px 50px 0 rgba(0, 0, 0, 0.19) !important;\n  @media screen and (max-width: 770px) {\n    width: 100%;\n  }\n  @media (prefers-color-scheme: dark) {\n    background-color: white;\n  }\n`;\n\nconst ArchiveItemRight = styled.div`\n  width: 65%;\n  @media screen and (max-width: 770px) {\n    width: 100%;\n  }\n`;\n\nconst ArchiveItemTitle = styled.div`\n  color: #3c4858;\n  font-weight: 700;\n  font-size: 1.5rem;\n  line-height: 2;\n  @media (prefers-color-scheme: dark) {\n    color: white;\n  }\n`;\nconst ArchiveItemIntro = styled.div`\n  font-size: 1rem;\n  color: #3c4858;\n  line-height: 1.5;\n  overflow: hidden;\n  @media (prefers-color-scheme: dark) {\n    color: white;\n  }\n`;\n\nconst ArchiveItemOtherInfo = styled.div`\n  margin-top: 10px;\n  display: flex;\n  align-items: center;\n  @media (prefers-color-scheme: dark) {\n    color: #e9ecef;\n  }\n`;\n\nconst ArchiveItemMeta = styled.div`\n  font-size: 1rem;\n  color: #3c4858;\n  line-height: 1.5;\n  margin: 0 5px;\n  @media (prefers-color-scheme: dark) {\n    color: white;\n  }\n`;\n\nconst HeaderContent = styled.div`\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n  font-size: 20px;\n  color: #ffffff;\n  text-align: center;\n  user-select: none;\n  max-width: 80vw;\n  width: 600px;\n  font-weight: 300;\n  @media (prefers-color-scheme: dark) {\n    color: white;\n  }\n`;\n\nexport const query = graphql`\n  {\n    allMarkdownRemark(\n      sort: { order: DESC, fields: frontmatter___date }\n      limit: 15\n      filter: { frontmatter: { exclude_from_home: { ne: true } } }\n    ) {\n      nodes {\n        id\n        excerpt(pruneLength: 150, truncate: true)\n        frontmatter {\n          date(formatString: \"YYYY-MM-DD\")\n          title\n          tags\n          index_img {\n            publicURL\n          }\n        }\n      }\n    }\n  }\n`;\n"],"names":["Index","props","data","responseData","error","createIndex","useCallback","children","React","Layout","backgroundSrc","images","_responseData$images","url","appConfig","content","HeaderContent","_responseData$images2","_responseData$images3","copyright","title","allMarkdownRemark","_allMarkdownRemark","nodes","_allMarkdownRemark$no","length","ArchivesContainer","map","item","id","excerpt","frontmatter","date","indexImage","index_img","tags","publicURL","ArchiveItem","key","ArchiveItemContent","onClick","navigate","ArchiveItemRight","ArchiveItemTitle","ArchiveItemIntro","ArchiveItemOtherInfo","ArchiveItemMeta","Array","isArray","join","ArchiveItemImage","style","backgroundImage","cursor","ArchivesEmpty","ArchivesEmptyTip","styled"],"sourceRoot":""}